"use strict";(self.webpackChunkreact_homework_phonebook_RTK_Query=self.webpackChunkreact_homework_phonebook_RTK_Query||[]).push([[7],{2007:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var a=t(2982),r=t(885),o=t(2791),i=t(9434),c=t(1258),l=t(6445),s=t(493),d=t(5021),u=t(6278),m=t(9900),h=t(653),x=t(9174),f=t(3044),p=t(8383),b=t(184),Z=function(){var e=(0,i.v9)(c.lP.getFilter),n=(0,i.I0)();return(0,b.jsx)(p.Z,{id:"contacts-search",label:"Search",value:e,onChange:function(e){n((0,c.M6)(e.currentTarget.value))},type:"search"})},j=t(7247),g=t(3400),v=t(4554),C=t(3494),y=t(2674),k=t(3718),w=t(4942),T=t(1413),N=t(6151),I=t(4708),S=t(890),_=t(7107),P=t(7012),A=t(7275),F=t.n(A),W=(0,_.Z)();var E=function(e){var n=e.onClose,t=e.contactIdToEdit,a=void 0===t?null:t,s=(0,o.useState)({name:"",number:""}),d=(0,r.Z)(s,2),u=d[0],m=d[1],h=(0,i.I0)(),x=(0,i.v9)(c.lP.getAddedContacts),f=(0,y.N)();(0,o.useEffect)((function(){a&&m(x.find((function(e){return e.id===a})))}),[a,x]);var Z=function(){m({name:"",number:""})};return(0,b.jsx)(P.Z,{theme:W,children:(0,b.jsxs)(l.Z,{component:"main",maxWidth:"xs",children:[(0,b.jsx)(I.ZP,{}),(0,b.jsxs)(v.Z,{sx:{marginTop:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,b.jsx)(S.Z,{component:"h1",variant:"h5",children:a?"Edit contact":"Add new contact"}),(0,b.jsxs)(v.Z,{component:"form",onSubmit:function(e){var t,r;(e.preventDefault(),0!==u.name.length&&0!==u.number.length)?a?(h(c.mh.editContact({id:a,name:u.name,number:u.number})),n(),Z()):(t=x,r=u.name,t.find((function(e){return e.name.toLowerCase()===r.toLowerCase()}))?f({title:"Oh no!",description:"Name ".concat(u.name," already exists in your phone book"),cancellationText:""}).catch((function(){})):(h(c.mh.addContact(u)),n(),Z())):f({title:'Fields "Name" or "Number" can\'t be empty!',description:'Type "Name" and "Number" to relevant fields!',cancellationText:""}).catch((function(){}))},noValidate:!0,sx:{mt:1},children:[(0,b.jsx)(p.Z,{margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",autoComplete:"Name",autoFocus:!0,value:u.name,onChange:function(e){var n=e.currentTarget,t=n.name,a=n.value;m((function(e){return(0,T.Z)((0,T.Z)({},e),{},(0,w.Z)({},t,a))}))}}),(0,b.jsx)(F(),{required:!0,value:u.number,onChange:function(e){m((function(n){return(0,T.Z)((0,T.Z)({},n),{},{number:e})}))},component:p.Z}),(0,b.jsx)(N.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:a?"Save changes":"Add"})]})]})]})})},O={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},q=function(){var e=(0,i.v9)(c.lP.getFilteredContacts),n=(0,i.I0)(),t=(0,o.useState)([]),p=(0,r.Z)(t,2),w=p[0],T=p[1],N=(0,y.N)(),I=(0,o.useState)(!1),S=(0,r.Z)(I,2),_=S[0],P=S[1],A=(0,o.useState)(""),F=(0,r.Z)(A,2),W=F[0],q=F[1],z=function(){P(!1),q("")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(l.Z,{maxWidth:"xs",sx:{mt:2},children:[(0,b.jsxs)(v.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-around"},children:[(0,b.jsx)(g.Z,{"aria-label":"add",size:"large",onClick:function(){return P(!0)},children:(0,b.jsx)(C.Z,{})}),(0,b.jsx)(Z,{}),(0,b.jsx)(g.Z,{"aria-label":"delete",size:"large",disabled:w.length<1,onClick:function(){var t=w.map((function(n){return e.find((function(e){return e.id===n})).name})).join(", ");N({description:"Are you really want to delete ".concat(t," from your contact book?")}).then((function(){w.map((function(e){return n(c.mh.deleteContact(e))})),T([])})).catch((function(){}))},children:(0,b.jsx)(j.Z,{})})]}),(0,b.jsx)(s.Z,{dense:!0,sx:{width:"100%",maxWidth:385,bgcolor:"background.paper"},children:e.map((function(e){var n,t=e.id,r=e.name,o=e.number,i="checkbox-list-secondary-label-".concat(t);return(0,b.jsx)(d.ZP,{secondaryAction:(0,b.jsx)(x.Z,{edge:"end",onChange:(n=t,function(){var e=w.indexOf(n),t=(0,a.Z)(w);-1===e?t.push(n):t.splice(e,1),T(t)}),checked:-1!==w.indexOf(t),inputProps:{"aria-labelledby":i}}),disablePadding:!0,children:(0,b.jsxs)(u.Z,{onClick:function(){return function(e){q(e),P(!0)}(t)},children:[(0,b.jsx)(h.Z,{children:(0,b.jsx)(f.Z,{alt:"".concat(r)})}),(0,b.jsx)(m.Z,{id:i,primary:"".concat(r)}),(0,b.jsx)(m.Z,{sx:{textAlign:"right"},primary:"".concat(o)})]})},t)}))})]}),_&&(0,b.jsx)(k.Z,{open:_,onClose:z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,b.jsx)(v.Z,{sx:O,children:(0,b.jsx)(E,{onClose:z,contactIdToEdit:W||null})})})]})};function z(){var e=(0,i.I0)();return(0,o.useEffect)((function(){e(c.mh.fetchContacts())}),[e]),(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(y.W,{children:(0,b.jsx)(q,{})})})}}}]);
//# sourceMappingURL=7.1ee14ac7.chunk.js.map